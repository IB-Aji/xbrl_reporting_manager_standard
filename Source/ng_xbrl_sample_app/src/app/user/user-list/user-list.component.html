<nb-card>
  <nb-card-header>{{'master.user.listtitle'| translate}}</nb-card-header>
  <nb-card-body>

    <p-toolbar styleClass="p-mb-4">
      <ng-template pTemplate="left">
        <button pButton label="Add New" icon="pi pi-plus" class="p-button-raised p-mr-2" (click)="redirectNewUserPage()"></button>
      </ng-template>
    </p-toolbar>

    <p-table #dtTaxonomy [value]="users" dataKey="id" [rows]="10" [showCurrentPageReport]="true"
      styleClass="p-datatable-gridlines p-datatable-sm" [paginator]="true" [responsive]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} Users">

      <ng-template pTemplate="header">
        <tr>
          <th style="width: 60px;"></th>
          <th pSortableColumn="email" style="width: 12rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="email"></p-sortIcon>
              {{'master.user.email'| translate}}
              <p-columnFilter type="text" field="email" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="firstName" style="width: 12rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="firstName"></p-sortIcon>
              {{'master.user.firstName'| translate}}
              <p-columnFilter type="text" field="firstName" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="lastName" style="width: 12rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="lastName"></p-sortIcon>
              {{'master.user.lastName'| translate}}
              <p-columnFilter type="text" field="lastName" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="userType" style="width: 8rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="userType"></p-sortIcon>
              {{'master.user.userType'| translate}}
              <p-columnFilter type="text" field="userType" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="institutionType" style="width: 8rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="institutionType"></p-sortIcon>
              {{'master.user.institutionType'| translate}}
              <p-columnFilter type="text" field="institutionType" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="ljk.name" style="width: 15rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="ljk.name"></p-sortIcon>
              {{'master.user.ljk'| translate}}
              <p-columnFilter type="text" field="ljk.name" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="status" style="width: 8rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              <p-sortIcon field="status"></p-sortIcon>
              {{'master.user.status'| translate}}
              <p-columnFilter type="text" field="status" display="menu"></p-columnFilter>
            </div>
          </th>
          <th style="width: 8rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              {{'master.user.updateBy'| translate}}
            </div>
          </th>
          <th style="width: 8rem;">
            <div class="p-d-flex p-jc-between p-ai-center">
              {{'master.user.updateDate'| translate}}
            </div>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>
            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning p-mr-2"
              (click)="editUserPage(user)"></button>
          </td>
          <td>
            {{user.email}}
          </td>
          <td>
            {{user.firstName}}
          </td>
          <td>
            {{user.lastName}}
          </td>
          <td>
            {{user.userType}}
          </td>
          <td>
            {{user.instType}}
          </td>
          <td>
            {{user.ljk ? user.ljk.name : ''}}
          </td>
          <td>
            {{user.status}}
          </td>
          <td>
            {{user.updateBy}}
          </td>
          <td>
            {{user.updateDate | date: 'dd/MM/yyyy hh:mm'}}
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="9">There are no data found.</td>
        </tr>
      </ng-template>
    </p-table>

  </nb-card-body>
</nb-card>

